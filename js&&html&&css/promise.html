<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>promise</title>
</head>
<body>
	<div id="test"></div>
	<script>
		// function timeout(ms){
		// 	return new Promise((resolve,reject) => {
		// 		setTimeout(resolve,ms,'done');
		// 	})
		// }

		// timeout(100).then((value) => {
		// 	console.log(value)
		// });

		// function num(data){
		// 	return new Promise((resolve,reject) => {
		// 		console.log('Hello Promise');
		// 		var num = Math.ceil(Math.random()*10);
		// 		if(num <= 5){
		// 			resolve(num);
		// 		}else{
		// 			reject('数字太大')
		// 		}
		// 	})
		// }
		// function num1(data){
		// 	return new Promise((resolve,reject) => {
		// 		console.log('Hello Promise');
		// 		var num = Math.ceil(Math.random()*10);
		// 		if(num <= 5){
		// 			resolve(num);
		// 		}else{
		// 			reject('数字太大')
		// 		}
		// 	})
		// }
		// function num2(data){
		// 	return new Promise((resolve,reject) => {
		// 		console.log('Hello Promise');
		// 		var num = Math.ceil(Math.random()*10);
		// 		if(num <= 5){
		// 			resolve(num);
		// 		}else{
		// 			reject('数字太大')
		// 		}
		// 	})
		// }

		// num().then((value) => {
		// 	console.log(value);
		// }).then((reason,data) => {
		// 	console.log(reason);
		// 	console.log(data);
		// }).catch((reason) => {
		// 	console.log(reason)
		// })

//Promise.all

		// Promise.all([num(1),num(1),num(1)])
		// .then((res) => {
		// 	console.log(res)
		// })


//Promise.race
		
		// function number(data){
		// 	return new Promise((resolve,reject) => {
		// 		var number = Math.floor(Math.random()*10);
		// 		setTimeout(()=>{
		// 			if(number <= 10){
		// 				console.log('随便什么数据')
		// 				resolve(number);
		// 			}else{
		// 				reject('数字不对啊')
		// 			}
		// 		},1000)
		// 	})
		// }
		// function number1(data){
		// 	return new Promise((resolve,reject) => {
		// 		var number = Math.floor(Math.random()*10);
		// 		setTimeout(()=>{
		// 			if(number <= 10){
		// 				console.log('随便什么数据1')
		// 				resolve(number);
		// 			}else{
		// 				reject('数字不对啊')
		// 			}
		// 		},1000)
		// 	})
		// }
		// function number2(data){
		// 	return new Promise((resolve,reject) => {
		// 		var number = Math.floor(Math.random()*10);
		// 		setTimeout(()=>{
		// 			if(number <= 10){
		// 				console.log('随便什么数据2')
		// 				resolve(number);
		// 			}else{
		// 				reject('数字不对啊')
		// 			}
		// 		},1000)
		// 	})
		// }

		// Promise.race([number(),number1(),number2()])
		// .then((res) => {
		// 	console.log(res);
		// })

//加载图片
		// function getImg(){
		// 	return new Promise((resolve, reject) => {
		// 		var img = new Image();
		// 		img.onload = function(){
		// 			resolve(img);
		// 		}
		// 		img.src = 'xxxxx';
		// 	})
		// }

		// function timeout(){
		// 	return new Promise((resolve,reject) => {
		// 		setTimeout(()=>{
		// 			reject('没有找到图片');
		// 		},5000)
		// 	})
		// }

		// Promise.race([getImg(),timeout()])
		// .then((res) => {
		// 	console.log(res);
		// }).catch((rea) => {
		// 	console.log(rea)
		// })

//普通的Ajax

	//get
		// function ajaxGet(){
		// 	// var xhr = new XMLHttpRequest();
		// 	// xhr.open('get',url,true);
		// 	// xhr.send();
		// 	// xhr.onreadysattechange = () => {
		// 	// 	if(xhr.readystate == 4 && xhr.status == 200){
		// 	// 		var data = xhr.responseTEXT;
		// 	// 		return data;
		// 	// 	}
		// 	// }
		// 	xmlhttp = null;
		// 	if(window.XMLHttpRequest){
		// 		xmlhttp = new XMLHttpRequest();
		// 	}else if(window.ActiveXObject){
		// 		xmlhttp = new ActiveXObject('Microsoft.XMLHTTP');
		// 	}

		// 	xmlhttp.onreadysattechange = function(){
		// 		if(xmlhttp.readystate == 4 && xmlhttp.status == 200){
		// 			alert(xmlhttp.responseTEXT)
		// 		}
		// 	}

		// 	xmlhttp.open('get','url?usernamme = 张三');
		// 	xmlhttp.send();
		// }

	//post
		// function ajaxPost(){
		// 	xmlhttp = null;
		// 	if(window.XMLHttpRequest){
		// 		xmlhttp = new XMLHttpRequest();
		// 	}else if(window.ActiveXObject){
		// 		xmlhttp = new ActiveXObject();
		// 	}
		// 	xmlhttp.onreadysattechange = function(){
		// 		if(xmlhttp.readystate == 4 && xmlhttp.status == 200){
		// 			alert(xmlhttp.responseTEXT);
		// 		}
		// 	}
		// 	xmlhttp.open('post',url);
		// 	xmlhttp.setRequestHeader("content-type", "application/x-www-form-urlencoded");
		// 	xmlhttp.send('usernamme=张三');
		// }

//Promise 响应ajax请求

		// function ajaxPromise(){
		// 	return new Promise((resolve,reject) => {
		// 		var xhr = new XMLHttpRequest();
		// 		var handal = function(){
		// 			if(xhr.readystate == 4 && xhr.status == 200){
		// 				resolve(xhr.responseTEXT);
		// 			}else{
		// 				console.log(xhr.statusText);
		// 				reject('请求失败！');
		// 			}
		// 		}
		// 		xhr.onreadysattechange = handal;
		// 		xhr.open('get','url?usernamme=zhangsan')
		// 		xhr.send();
		// 	})
		// }


//TEST
		// function promiseTest(){
		// 	return new Promise((resolve,reject) => {
				
		// 	})
		// }


	</script>
</body>
</html>