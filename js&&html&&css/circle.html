<!DOCTYPE html>
<html lang="zh-CN">
<head>
	<meta charset="UTF-8">
	<title>小球碰撞</title>
</head>
<style>
	#circle{
		width: 100px;
		height: 100px;
		background: blue;
		text-align: center;
		line-height: 100px;
		border-radius: 50%;
		color: #fff;
		position: absolute;
		top: 0px;
		left: 0px;
	}
</style>
<body>
	<div id="circle" onmouseover="stop()" onmouseout="jixu()">我是小球</div>
	<script>
		var circle = document.getElementById("circle");
		var windowX = Math.floor(Math.random()*5) //x轴方向移动
		var windowY = Math.floor(Math.random()*5); //y轴方向移动
		var circleX = circle.getBoundingClientRect().left; //x坐标
		var circleY = circle.getBoundingClientRect().top; //y坐标
		var speed = 3;//速度
		console.log(circle.offsetHeight +'--'+ circle.offsetWidth);
		//颜色随机函数
		function randomNum(m) {  
            return Math.floor(Math.random() * m+1);  
        }  
		//小球颜色
		function circleCorlor(){
			var r = randomNum(255);  
            var g = randomNum(255);  
            var b = randomNum(255);  
            return "rgb(" + r + "," + g + "," + b + ")";  
		}
		
		//碰撞动画
		function circleMove(){
			circleX = circleX+windowX*speed;
			circleY = circleY+windowY*speed;
			circle.style.left = circleX+"px";
			circle.style.top = circleY+"px";
			//判断x轴碰撞后转向
			if(circleX+circle.offsetWidth>=document.documentElement.clientWidth || circleX+circle.offsetWidth<0){
				console.log();
				windowX=-windowX;
				circle.style.backgroundColor = circleCorlor();
			}
			//判断y轴碰撞后转向
			if(circleY+circle.offsetHeight>=document.documentElement.clientHeight || circleY+circle.offsetHeight<=0){
				windowY=-windowY;
				circle.style.backgroundColor = circleCorlor();
			}
		}
		//计时器
		var stopmove=setInterval("circleMove()");
		function stop(){
			clearInterval(stopmove);
		}
		function jixu(){
			var stopmove=setInterval("circleMove()");
		}

	</script>
</body>
</html>